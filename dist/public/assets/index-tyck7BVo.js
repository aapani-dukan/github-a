import{i as rt,g as it,G as nt,s as ot,Q as lt,r as l,t as dt,c as ct,j as e,V as Ze,R as es,a as re,A as ss,C as ts,X as Me,T as as,D as rs,P as mt,b as is,d as ut,o as xt,S as ns,e as Fe,f as os,h as ht,k as ls,l as ds,I as pt,m as cs,n as ms,p as ft,q as us,u as gt,v as xs,w as jt,L as hs,x as ps,y as yt,z as Nt,B as fs,E as bt,F as vt,H as gs,J as wt,O as fe,K as js,M as ge,N as ys,U as je,W as ye,Y as Ns,Z as St,_ as Ct,$ as Re,a0 as bs,a1 as b,a2 as Oe,a3 as vs,a4 as _t,a5 as kt,a6 as At,a7 as Pt,a8 as It,a9 as Tt,aa as H,ab as Ft,ac as Rt,ad as ws,ae as Ss,af as Cs,ag as Ot,ah as Dt,ai as _s,aj as qt,ak as $t,al as Et,am as ks,an as Se,ao as D,ap as Lt,aq as I,ar as y,as as pe,at as o,au as h,av as T,aw as M,ax as zt,ay as w,az as As,aA as F,aB as Mt,aC as Bt,aD as Ce,aE as ne,aF as Kt,aG as Vt,aH as Ut,aI as _e,aJ as Ht,aK as ke,aL as Qt,aM as Gt,aN as Yt,aO as Jt,aP as Wt,aQ as Xt,aR as Zt,aS as ea,aT as sa,aU as se,aV as Be,aW as ta}from"./vendor-C5WmUT3Q.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function a(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerPolicy&&(d.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?d.credentials="include":n.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(n){if(n.ep)return;n.ep=!0;const d=a(n);fetch(n.href,d)}})();const aa={apiKey:void 0,authDomain:"aapani-dukan.firebaseapp.com",projectId:"aapani-dukan",storageBucket:"aapani-dukan.firebasestorage.app",messagingSenderId:"352463214204",appId:"1:352463214204:web:a3adc9ef1d8af0de1fdbf9"},ra=rt(aa),J=it(ra),Ke=new nt;Ke.addScope("email");Ke.addScope("profile");function ia(){return ot(J,Ke)}const na=new lt({defaultOptions:{queries:{staleTime:1/0,cacheTime:1/0}}}),oa="";async function Y(s,t,a){const i=`${oa}${t}`,n={...a?{"Content-Type":"application/json"}:{}};console.log(`[apiRequest] Starting request: ${s} ${i}`),console.log("[apiRequest] Current Firebase user for token check:",J.currentUser);let d=null;try{J.currentUser?(d=await J.currentUser.getIdToken(),console.log(`[apiRequest] Firebase ID Token obtained: ${d?"Yes":"No"}`)):console.warn("[apiRequest] No Firebase currentUser available to get ID token. Request might be unauthorized.")}catch(u){console.error("[apiRequest] Error getting Firebase ID Token:",u)}d?(n.Authorization=`Bearer ${d}`,console.log("[apiRequest] Authorization header added.")):console.log("[apiRequest] No Authorization header added (token was null or error occurred)."),console.log("[apiRequest] Request headers:",n),console.log("[apiRequest] Request body (JSON.stringify):",a?JSON.stringify(a):"No body");try{const u=await fetch(i,{method:s,headers:n,body:a?JSON.stringify(a):void 0,credentials:"include"});if(console.log(`[apiRequest] Received response for ${i}. Status: ${u.status}`),!u.ok){const k=await u.text()||u.statusText;throw console.error(`[apiRequest] API Error Response: ${u.status}: ${k}`),new Error(`${u.status}: ${k}`)}return console.log(`[apiRequest] Request ${i} successful.`),u}catch(u){throw console.error(`[apiRequest] Fetch operation failed for ${i}:`,u),u}}const la=1,da=1e6;let Ae=0;function ca(){return Ae=(Ae+1)%Number.MAX_SAFE_INTEGER,Ae.toString()}const Pe=new Map,Ye=s=>{if(Pe.has(s))return;const t=setTimeout(()=>{Pe.delete(s),ae({type:"REMOVE_TOAST",toastId:s})},da);Pe.set(s,t)},ma=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,la)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=t;return a?Ye(a):s.toasts.forEach(i=>{Ye(i.id)}),{...s,toasts:s.toasts.map(i=>i.id===a||a===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(a=>a.id!==t.toastId)}}},oe=[];let le={toasts:[]};function ae(s){le=ma(le,s),oe.forEach(t=>{t(le)})}function ua({...s}){const t=ca(),a=n=>ae({type:"UPDATE_TOAST",toast:{...n,id:t}}),i=()=>ae({type:"DISMISS_TOAST",toastId:t});return ae({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:n=>{n||i()}}}),{id:t,dismiss:i,update:a}}function Ve(){const[s,t]=l.useState(le);return l.useEffect(()=>(oe.push(t),()=>{const a=oe.indexOf(t);a>-1&&oe.splice(a,1)}),[s]),{...s,toast:ua,dismiss:a=>ae({type:"DISMISS_TOAST",toastId:a})}}function m(...s){return dt(ct(s))}const xa=mt,Ps=l.forwardRef(({className:s,...t},a)=>e.jsx(Ze,{ref:a,className:m("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));Ps.displayName=Ze.displayName;const ha=re("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Is=l.forwardRef(({className:s,variant:t,...a},i)=>e.jsx(es,{ref:i,className:m(ha({variant:t}),s),...a}));Is.displayName=es.displayName;const pa=l.forwardRef(({className:s,...t},a)=>e.jsx(ss,{ref:a,className:m("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t}));pa.displayName=ss.displayName;const Ts=l.forwardRef(({className:s,...t},a)=>e.jsx(ts,{ref:a,className:m("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsx(Me,{className:"h-4 w-4"})}));Ts.displayName=ts.displayName;const Fs=l.forwardRef(({className:s,...t},a)=>e.jsx(as,{ref:a,className:m("text-sm font-semibold",s),...t}));Fs.displayName=as.displayName;const Rs=l.forwardRef(({className:s,...t},a)=>e.jsx(rs,{ref:a,className:m("text-sm opacity-90",s),...t}));Rs.displayName=rs.displayName;function fa(){const{toasts:s}=Ve();return e.jsxs(xa,{children:[s.map(function({id:t,title:a,description:i,action:n,...d}){return e.jsxs(Is,{...d,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(Fs,{children:a}),i&&e.jsx(Rs,{children:i})]}),n,e.jsx(Ts,{})]},t)}),e.jsx(Ps,{})]})}const ga=ut,ja=l.forwardRef(({className:s,sideOffset:t=4,...a},i)=>e.jsx(is,{ref:i,sideOffset:t,className:m("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...a}));ja.displayName=is.displayName;const Os=l.createContext(void 0);function ya({children:s}){const[t,a]=l.useState(null),[i,n]=l.useState(null),[d,u]=l.useState(!0);l.useEffect(()=>xt(J,async R=>{if(a(R),R)try{const f={firebaseUid:R.uid,email:R.email,name:R.displayName||R.email,role:"customer",approvalStatus:"approved"},g=await(await Y("POST","/api/users",f)).json();n(g)}catch(f){console.error("Error creating/fetching user:",f)}else n(null);u(!1)}),[]);const k=async()=>{try{await J.signOut()}catch(x){console.error("Error signing out:",x)}};return e.jsx(Os.Provider,{value:{firebaseUser:t,user:i,loading:d,signOut:k},children:s})}function ie(){const s=l.useContext(Os);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}const Na=re("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=l.forwardRef(({className:s,variant:t,size:a,asChild:i=!1,...n},d)=>{const u=i?ns:"button";return e.jsx(u,{className:m(Na({variant:t,size:a,className:s})),ref:d,...n})});p.displayName="Button";const $=l.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:m("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));$.displayName="Card";const de=l.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:m("flex flex-col space-y-1.5 p-6",s),...t}));de.displayName="CardHeader";const ce=l.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:m("text-2xl font-semibold leading-none tracking-tight",s),...t}));ce.displayName="CardTitle";const ba=l.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:m("text-sm text-muted-foreground",s),...t}));ba.displayName="CardDescription";const E=l.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:m("p-6 pt-0",s),...t}));E.displayName="CardContent";const va=l.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:m("flex items-center p-6 pt-0",s),...t}));va.displayName="CardFooter";function wa(){const[s,t]=l.useState(!1),a=async()=>{try{t(!0),await ia()}catch(i){console.error("Error signing in:",i),t(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsx($,{className:"bg-white rounded-2xl shadow-xl",children:e.jsxs(E,{className:"p-8 text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Fe,{className:"text-white text-2xl w-8 h-8"})}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to access your seller dashboard"})]}),e.jsxs(p,{onClick:a,disabled:s,className:"w-full bg-white border-2 border-gray-200 hover:border-gray-300 text-gray-700 hover:bg-gray-50 font-medium py-3 px-6 rounded-lg transition-colors duration-200",variant:"outline",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",className:"mr-3",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),s&&e.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-2 text-gray-600",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-sm",children:"Signing you in..."})]})]})})})})}const me=l.forwardRef(({className:s,...t},a)=>e.jsx(os,{ref:a,className:m("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(ht,{className:m("flex items-center justify-center text-current"),children:e.jsx(ls,{className:"h-4 w-4"})})}));me.displayName=os.displayName;const Ds=bt,qs=vt,Ue=l.forwardRef(({className:s,children:t,...a},i)=>e.jsxs(ds,{ref:i,className:m("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[t,e.jsx(pt,{asChild:!0,children:e.jsx(cs,{className:"h-4 w-4 opacity-50"})})]}));Ue.displayName=ds.displayName;const $s=l.forwardRef(({className:s,...t},a)=>e.jsx(ms,{ref:a,className:m("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(ft,{className:"h-4 w-4"})}));$s.displayName=ms.displayName;const Es=l.forwardRef(({className:s,...t},a)=>e.jsx(us,{ref:a,className:m("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(cs,{className:"h-4 w-4"})}));Es.displayName=us.displayName;const He=l.forwardRef(({className:s,children:t,position:a="popper",...i},n)=>e.jsx(gt,{children:e.jsxs(xs,{ref:n,className:m("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...i,children:[e.jsx($s,{}),e.jsx(jt,{className:m("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(Es,{})]})}));He.displayName=xs.displayName;const Sa=l.forwardRef(({className:s,...t},a)=>e.jsx(hs,{ref:a,className:m("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t}));Sa.displayName=hs.displayName;const U=l.forwardRef(({className:s,children:t,...a},i)=>e.jsxs(ps,{ref:i,className:m("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(yt,{children:e.jsx(ls,{className:"h-4 w-4"})})}),e.jsx(Nt,{children:t})]}));U.displayName=ps.displayName;const Ca=l.forwardRef(({className:s,...t},a)=>e.jsx(fs,{ref:a,className:m("-mx-1 my-1 h-px bg-muted",s),...t}));Ca.displayName=fs.displayName;function L({className:s,...t}){return e.jsx("div",{className:m("animate-pulse rounded-md bg-muted",s),...t})}const Qe=gs()(wt((s,t)=>({items:[],sessionId:Math.random().toString(36).substring(2,15),addItem:a=>{const i=t().items,n=i.find(d=>d.productId===a.productId);s(n?{items:i.map(d=>d.productId===a.productId?{...d,quantity:d.quantity+a.quantity}:d)}:{items:[...i,{...a,id:Date.now()}]})},removeItem:a=>{s({items:t().items.filter(i=>i.id!==a)})},updateQuantity:(a,i)=>{if(i<=0){t().removeItem(a);return}s({items:t().items.map(n=>n.id===a?{...n,quantity:i}:n)})},clearCart:()=>{s({items:[]})},getTotalItems:()=>t().items.reduce((a,i)=>a+i.quantity,0),getTotalPrice:()=>t().items.reduce((a,i)=>a+parseFloat(i.price)*i.quantity,0)}),{name:"cart-storage"}));gs(s=>({isOpen:!1,open:()=>s({isOpen:!0}),close:()=>s({isOpen:!1})}));const Je=Ns,_a=js,Ls=l.forwardRef(({className:s,...t},a)=>e.jsx(fe,{className:m("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:a}));Ls.displayName=fe.displayName;const ka=re("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),De=l.forwardRef(({side:s="right",className:t,children:a,...i},n)=>e.jsxs(_a,{children:[e.jsx(Ls,{}),e.jsxs(ge,{ref:n,className:m(ka({side:s}),t),...i,children:[a,e.jsxs(ys,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));De.displayName=ge.displayName;const qe=({className:s,...t})=>e.jsx("div",{className:m("flex flex-col space-y-2 text-center sm:text-left",s),...t});qe.displayName="SheetHeader";const $e=l.forwardRef(({className:s,...t},a)=>e.jsx(je,{ref:a,className:m("text-lg font-semibold text-foreground",s),...t}));$e.displayName=je.displayName;const Aa=l.forwardRef(({className:s,...t},a)=>e.jsx(ye,{ref:a,className:m("text-sm text-muted-foreground",s),...t}));Aa.displayName=ye.displayName;function Pa({isOpen:s,onClose:t}){const{items:a,updateQuantity:i,removeItem:n,getTotalPrice:d,clearCart:u}=Qe(),k=d();return a.length===0?e.jsx(Je,{open:s,onOpenChange:t,children:e.jsxs(De,{className:"w-full max-w-md",children:[e.jsx(qe,{children:e.jsx($e,{children:"Shopping Cart"})}),e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-4",children:[e.jsx(St,{className:"h-16 w-16 text-gray-300"}),e.jsx("p",{className:"text-gray-500 text-center",children:"Your cart is empty"}),e.jsx(p,{onClick:t,className:"bg-primary hover:bg-primary/90",children:"Continue Shopping"})]})]})}):e.jsx(Je,{open:s,onOpenChange:t,children:e.jsxs(De,{className:"w-full max-w-md flex flex-col",children:[e.jsx(qe,{children:e.jsx($e,{children:"Shopping Cart"})}),e.jsx("div",{className:"flex-1 overflow-y-auto py-4 space-y-4",children:a.map(x=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[e.jsx("img",{src:x.image,alt:x.name,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-sm truncate",children:x.name}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["$",x.price]}),e.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[e.jsx(p,{size:"sm",variant:"outline",onClick:()=>i(x.id,x.quantity-1),className:"h-6 w-6 p-0",children:e.jsx(Ct,{className:"h-3 w-3"})}),e.jsx("span",{className:"text-sm font-medium min-w-[20px] text-center",children:x.quantity}),e.jsx(p,{size:"sm",variant:"outline",onClick:()=>i(x.id,x.quantity+1),className:"h-6 w-6 p-0",children:e.jsx(Re,{className:"h-3 w-3"})})]})]}),e.jsx(p,{size:"sm",variant:"ghost",onClick:()=>n(x.id),className:"text-red-500 hover:text-red-700 p-1",children:e.jsx(bs,{className:"h-4 w-4"})})]},x.id))}),e.jsxs("div",{className:"border-t pt-4 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),e.jsxs("span",{className:"text-xl font-bold text-primary",children:["$",k.toFixed(2)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{href:"/checkout",children:e.jsx(p,{className:"w-full bg-primary hover:bg-primary/90 text-white",onClick:t,children:"Proceed to Checkout"})}),e.jsx(b,{href:"/cart",children:e.jsx(p,{variant:"outline",className:"w-full",onClick:t,children:"View Cart"})})]})]})]})})}const ue=({categories:s})=>{const{items:t,isCartOpen:a,toggleCart:i}=Qe(),{user:n}=ie(),d=()=>{n&&(n.isApprovedSeller?window.location.href="/seller-dashboard":window.location.href="/seller-apply")};return e.jsxs("header",{className:"bg-white shadow-md px-4 py-3 flex items-center justify-between",children:[e.jsx(b,{href:"/",className:"text-xl font-bold text-blue-600",children:"Shopnish"}),e.jsx("nav",{className:"space-x-4",children:s.map(u=>e.jsx(b,{href:`/category/${u.id}`,className:"text-gray-700 hover:text-blue-600",children:u.name},u.id))}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:i,className:"relative text-gray-700 hover:text-blue-600",children:["🛒",t.length>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center",children:t.length})]}),e.jsx("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Become a Seller"})]}),e.jsx(Pa,{isOpen:a,onClose:i})]})},Ia=re("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Q({className:s,variant:t,...a}){return e.jsx("div",{className:m(Ia({variant:t}),s),...a})}function Ta({product:s}){const[t,a]=l.useState(!1),i=Qe(f=>f.addItem),{toast:n}=Ve(),d=s.originalPrice?Math.round((parseFloat(s.originalPrice)-parseFloat(s.price))/parseFloat(s.originalPrice)*100):0,k=s.stock===0?{text:"Out of Stock",color:"text-red-600",bgColor:"bg-red-50"}:s.stock<=5?{text:`Only ${s.stock} left`,color:"text-orange-600",bgColor:"bg-orange-50"}:s.stock<=10?{text:`${s.stock} units left`,color:"text-yellow-600",bgColor:"bg-yellow-50"}:{text:"In Stock",color:"text-green-600",bgColor:"bg-green-50"},x=async f=>{if(f.preventDefault(),f.stopPropagation(),s.stock===0){n({title:"Out of Stock",description:"This product is currently unavailable.",variant:"destructive"});return}a(!0);try{i({productId:s.id,name:s.name,price:s.price,image:s.image,quantity:1}),n({title:"Added to cart",description:`${s.name} has been added to your cart.`})}catch{n({title:"Error",description:"Failed to add item to cart.",variant:"destructive"})}finally{setTimeout(()=>a(!1),1e3)}},R=f=>{if(!f)return null;const K=parseFloat(f),g=Math.floor(K),W=K%1!==0;return e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((G,A)=>e.jsx(vs,{className:`h-4 w-4 ${A<g?"text-yellow-400 fill-current":A===g&&W?"text-yellow-400 fill-current opacity-50":"text-gray-300"}`},A))})};return e.jsxs($,{className:"group cursor-pointer hover:shadow-md transition-shadow duration-200 relative",children:[e.jsx(b,{href:`/product/${s.id}`,children:e.jsxs("div",{className:"relative overflow-hidden rounded-t-lg",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),d>0&&e.jsxs(Q,{className:"absolute top-2 left-2 bg-red-500 text-white font-bold",children:[d,"% OFF"]}),e.jsx(Q,{variant:"outline",className:`absolute top-2 right-2 ${k.color} ${k.bgColor} border-0 text-xs`,children:k.text})]})}),e.jsxs(E,{className:"p-4",children:[e.jsx(b,{href:`/product/${s.id}`,children:e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"font-semibold text-lg line-clamp-2 hover:text-primary transition-colors",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:s.nameHindi})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.brand&&e.jsx(Q,{variant:"secondary",className:"text-xs",children:s.brand}),e.jsx("span",{className:"text-xs text-gray-500",children:s.unit})]}),(s.rating||s.reviewCount)&&e.jsxs("div",{className:"flex items-center mb-3 space-x-2",children:[R(s.rating),s.reviewCount&&e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",s.reviewCount,")"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-xl font-bold text-green-600",children:["₹",s.price]}),s.originalPrice&&parseFloat(s.originalPrice)>parseFloat(s.price)&&e.jsxs("span",{className:"text-gray-400 line-through text-sm",children:["₹",s.originalPrice]})]}),d>0&&e.jsxs("span",{className:"text-xs text-green-600 font-medium",children:["You save ₹",(parseFloat(s.originalPrice)-parseFloat(s.price)).toFixed(2)]})]}),e.jsx(p,{size:"sm",onClick:x,disabled:t||s.stock===0,className:`${s.stock===0?"bg-gray-400 cursor-not-allowed":"bg-primary hover:bg-primary/90"} text-white`,children:t?e.jsx("span",{className:"text-green-500",children:"✓"}):s.stock===0?"Out of Stock":e.jsx(Oe,{className:"h-4 w-4"})})]})]})]})}const O=l.forwardRef(({className:s,type:t,...a},i)=>e.jsx("input",{type:t,className:m("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:i,...a}));O.displayName="Input";function Fa(){const s=t=>{t.preventDefault()};return e.jsx("footer",{className:"bg-neutral-900 text-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Shopnish"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Your trusted online marketplace for everything you need, delivered fast and secure."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(p,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white p-2",children:e.jsx(_t,{className:"h-5 w-5"})}),e.jsx(p,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white p-2",children:e.jsx(kt,{className:"h-5 w-5"})}),e.jsx(p,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white p-2",children:e.jsx(At,{className:"h-5 w-5"})}),e.jsx(p,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white p-2",children:e.jsx(Pt,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(b,{href:"/about",className:"text-gray-300 hover:text-white transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx(b,{href:"/contact",className:"text-gray-300 hover:text-white transition-colors",children:"Contact"})}),e.jsx("li",{children:e.jsx(b,{href:"/faq",className:"text-gray-300 hover:text-white transition-colors",children:"FAQ"})}),e.jsx("li",{children:e.jsx(b,{href:"/shipping",className:"text-gray-300 hover:text-white transition-colors",children:"Shipping Info"})}),e.jsx("li",{children:e.jsx(b,{href:"/returns",className:"text-gray-300 hover:text-white transition-colors",children:"Returns"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Categories"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(b,{href:"/?category=1",className:"text-gray-300 hover:text-white transition-colors",children:"Electronics"})}),e.jsx("li",{children:e.jsx(b,{href:"/?category=2",className:"text-gray-300 hover:text-white transition-colors",children:"Fashion"})}),e.jsx("li",{children:e.jsx(b,{href:"/?category=3",className:"text-gray-300 hover:text-white transition-colors",children:"Home & Garden"})}),e.jsx("li",{children:e.jsx(b,{href:"/?category=4",className:"text-gray-300 hover:text-white transition-colors",children:"Sports"})}),e.jsx("li",{children:e.jsx(b,{href:"/?category=6",className:"text-gray-300 hover:text-white transition-colors",children:"Health & Beauty"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Stay Updated"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Subscribe to get special offers and updates."}),e.jsxs("form",{onSubmit:s,className:"flex",children:[e.jsx(O,{type:"email",placeholder:"Enter your email",className:"flex-1 rounded-r-none border-gray-600 bg-gray-800 text-white placeholder-gray-400"}),e.jsx(p,{type:"submit",className:"bg-primary hover:bg-primary/90 rounded-l-none",children:e.jsx(It,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"border-t border-gray-700 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[e.jsx("p",{className:"text-gray-300 text-sm",children:"© 2024 Shopnish. All rights reserved."}),e.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[e.jsx(b,{href:"/privacy",className:"text-gray-300 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),e.jsx(b,{href:"/terms",className:"text-gray-300 hover:text-white text-sm transition-colors",children:"Terms of Service"}),e.jsx(b,{href:"/cookies",className:"text-gray-300 hover:text-white text-sm transition-colors",children:"Cookie Policy"})]})]})]})})}function Ra(){var ee;const[s]=Tt(),t=new URLSearchParams(s.split("?")[1]||""),a=t.get("category"),i=t.get("search"),[n,d]=l.useState(a?parseInt(a):null),[u,k]=l.useState(i||""),[x,R]=l.useState([]),[f,K]=l.useState("best-match");l.useEffect(()=>{const c=t.get("category"),j=t.get("search");d(c?parseInt(c):null),k(j||"")},[s]);const{data:g=[],isLoading:W}=H({queryKey:["/api/categories"]}),{data:G=[],isLoading:A}=H({queryKey:["/api/products",n,u],queryFn:async()=>{const c=new URLSearchParams;n&&c.append("categoryId",n.toString()),u&&c.append("search",u);const j=await fetch(`/api/products?${c}`);if(!j.ok)throw new Error("Failed to fetch products");return j.json()}}),{data:B=[]}=H({queryKey:["/api/products","featured"],queryFn:async()=>{const c=await fetch("/api/products?featured=true");if(!c.ok)throw new Error("Failed to fetch featured products");return c.json()}}),q=G.filter(c=>{if(x.length===0)return!0;const j=parseFloat(c.price);return x.some(V=>{switch(V){case"under-25":return j<25;case"25-50":return j>=25&&j<50;case"50-100":return j>=50&&j<100;case"over-100":return j>=100;default:return!0}})}),X=(c,j)=>{R(j?V=>[...V,c]:V=>V.filter(we=>we!==c))},Z=()=>{var c;(c=document.getElementById("products-section"))==null||c.scrollIntoView({behavior:"smooth"})};return W?e.jsx("div",{className:"min-h-screen bg-neutral-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx(L,{className:"h-16 w-full mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(8)].map((c,j)=>e.jsx(L,{className:"h-80 w-full"},j))})]})}):e.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[e.jsx(ue,{categories:g}),!n&&!u&&e.jsx("section",{className:"bg-gradient-to-r from-primary to-orange-500 text-white py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl lg:text-6xl font-bold mb-6",children:"Shop Everything You Need"}),e.jsx("p",{className:"text-xl mb-8 text-orange-100",children:"Discover millions of products from trusted sellers with fast delivery and great prices."}),e.jsxs(p,{onClick:Z,size:"lg",className:"bg-white text-primary hover:bg-gray-100 font-semibold",children:["Start Shopping ",e.jsx(Ft,{className:"ml-2 h-5 w-5"})]})]}),e.jsx("div",{className:"relative",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d",alt:"Online shopping experience",className:"rounded-xl shadow-2xl w-full h-auto"})})]})})}),!n&&!u&&e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h3",{className:"text-3xl font-bold text-neutral-900 mb-12 text-center",children:"Shop by Category"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:g.slice(0,4).map(c=>e.jsxs("div",{className:"text-center group cursor-pointer",onClick:()=>d(c.id),children:[e.jsx("img",{src:c.image||"https://images.unsplash.com/photo-1441986300917-64674bd600d8",alt:c.name,className:"w-full h-48 object-cover rounded-lg group-hover:shadow-lg transition-shadow"}),e.jsx("h4",{className:"text-lg font-semibold mt-4",children:c.name})]},c.id))})]})}),e.jsx("main",{id:"products-section",className:"py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:"lg:w-64 flex-shrink-0",children:e.jsx($,{className:"sticky top-24",children:e.jsxs(E,{className:"p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Rt,{className:"mr-2 h-5 w-5"}),"Filters"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:"font-medium mb-3",children:"Price Range"}),e.jsx("div",{className:"space-y-2",children:[{id:"under-25",label:"Under $25"},{id:"25-50",label:"$25 - $50"},{id:"50-100",label:"$50 - $100"},{id:"over-100",label:"Over $100"}].map(c=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(me,{id:c.id,checked:x.includes(c.id),onCheckedChange:j=>X(c.id,j)}),e.jsx("label",{htmlFor:c.id,className:"text-sm cursor-pointer",children:c.label})]},c.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:"font-medium mb-3",children:"Categories"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(me,{id:"all-categories",checked:!n,onCheckedChange:()=>d(null)}),e.jsx("label",{htmlFor:"all-categories",className:"text-sm cursor-pointer",children:"All Categories"})]}),g.map(c=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(me,{id:`category-${c.id}`,checked:n===c.id,onCheckedChange:()=>d(n===c.id?null:c.id)}),e.jsx("label",{htmlFor:`category-${c.id}`,className:"text-sm cursor-pointer",children:c.name})]},c.id))]})]})]})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-neutral-900",children:u?`Search results for "${u}"`:n?(ee=g.find(c=>c.id===n))==null?void 0:ee.name:"Featured Products"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(Ds,{value:f,onValueChange:K,children:[e.jsx(Ue,{className:"w-48",children:e.jsx(qs,{placeholder:"Sort by"})}),e.jsxs(He,{children:[e.jsx(U,{value:"best-match",children:"Best Match"}),e.jsx(U,{value:"price-low",children:"Price: Low to High"}),e.jsx(U,{value:"price-high",children:"Price: High to Low"}),e.jsx(U,{value:"rating",children:"Customer Rating"}),e.jsx(U,{value:"newest",children:"Newest First"})]})]})})]}),A?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((c,j)=>e.jsx(L,{className:"h-80 w-full"},j))}):q.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your criteria."}),e.jsx(p,{onClick:()=>{d(null),k(""),R([])},className:"mt-4",variant:"outline",children:"Clear Filters"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:q.map(c=>e.jsx(Ta,{product:c},c.id))})]})]})})}),e.jsx(Fa,{})]})}const te=l.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:m("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...t}));te.displayName="Textarea";const Oa=Ot,zs=l.forwardRef(({className:s,...t},a)=>e.jsx(ws,{ref:a,className:m("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));zs.displayName=ws.displayName;const xe=l.forwardRef(({className:s,...t},a)=>e.jsx(Ss,{ref:a,className:m("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t}));xe.displayName=Ss.displayName;const he=l.forwardRef(({className:s,...t},a)=>e.jsx(Cs,{ref:a,className:m("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));he.displayName=Cs.displayName;const We=Ns,Xe=Dt,Da=js,Ms=l.forwardRef(({className:s,...t},a)=>e.jsx(fe,{ref:a,className:m("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));Ms.displayName=fe.displayName;const Ee=l.forwardRef(({className:s,children:t,...a},i)=>e.jsxs(Da,{children:[e.jsx(Ms,{}),e.jsxs(ge,{ref:i,className:m("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[t,e.jsxs(ys,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ee.displayName=ge.displayName;const Le=({className:s,...t})=>e.jsx("div",{className:m("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});Le.displayName="DialogHeader";const ze=l.forwardRef(({className:s,...t},a)=>e.jsx(je,{ref:a,className:m("text-lg font-semibold leading-none tracking-tight",s),...t}));ze.displayName=je.displayName;const qa=l.forwardRef(({className:s,...t},a)=>e.jsx(ye,{ref:a,className:m("text-sm text-muted-foreground",s),...t}));qa.displayName=ye.displayName;const $a=re("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Bs=l.forwardRef(({className:s,...t},a)=>e.jsx(_s,{ref:a,className:m($a(),s),...t}));Bs.displayName=_s.displayName;const Ie=$t,Ks=l.createContext({}),P=({...s})=>e.jsx(Ks.Provider,{value:{name:s.name},children:e.jsx(Et,{...s})}),Ne=()=>{const s=l.useContext(Ks),t=l.useContext(Vs),{getFieldState:a,formState:i}=qt(),n=a(s.name,i);if(!s)throw new Error("useFormField should be used within <FormField>");const{id:d}=t;return{id:d,name:s.name,formItemId:`${d}-form-item`,formDescriptionId:`${d}-form-item-description`,formMessageId:`${d}-form-item-message`,...n}},Vs=l.createContext({}),S=l.forwardRef(({className:s,...t},a)=>{const i=l.useId();return e.jsx(Vs.Provider,{value:{id:i},children:e.jsx("div",{ref:a,className:m("space-y-2",s),...t})})});S.displayName="FormItem";const C=l.forwardRef(({className:s,...t},a)=>{const{error:i,formItemId:n}=Ne();return e.jsx(Bs,{ref:a,className:m(i&&"text-destructive",s),htmlFor:n,...t})});C.displayName="FormLabel";const _=l.forwardRef(({...s},t)=>{const{error:a,formItemId:i,formDescriptionId:n,formMessageId:d}=Ne();return e.jsx(ns,{ref:t,id:i,"aria-describedby":a?`${n} ${d}`:`${n}`,"aria-invalid":!!a,...s})});_.displayName="FormControl";const Ea=l.forwardRef(({className:s,...t},a)=>{const{formDescriptionId:i}=Ne();return e.jsx("p",{ref:a,id:i,className:m("text-sm text-muted-foreground",s),...t})});Ea.displayName="FormDescription";const v=l.forwardRef(({className:s,children:t,...a},i)=>{const{error:n,formMessageId:d}=Ne(),u=n?String((n==null?void 0:n.message)??""):t;return u?e.jsx("p",{ref:i,id:d,className:m("text-sm font-medium text-destructive",s),...a,children:u}):null});v.displayName="FormMessage";ks({id:D().uuid(),userId:D(),businessName:D(),email:D().email(),phone:D().optional(),address:D().optional(),approvalStatus:Lt(["pending","approved","rejected"]),approvedAt:Se().optional(),rejectionReason:D().optional(),createdAt:Se(),updatedAt:Se()});const La=I("seller_applications",{id:T("id").primaryKey(),userId:h("user_id").references(()=>z.id).notNull(),businessName:o("business_name").notNull(),gstNumber:o("gst_number"),phone:o("phone"),address:o("address"),city:o("city"),pincode:o("pincode"),approvalStatus:pe("approval_status",{enum:["pending","approved","rejected"]}).default("pending"),createdAt:y("created_at").defaultNow(),updatedAt:y("updated_at").defaultNow()}),z=I("users",{id:T("id").primaryKey(),firebaseUid:o("firebase_uid").unique(),email:o("email").notNull().unique(),name:o("name"),firstName:o("first_name"),lastName:o("last_name"),phone:o("phone"),role:pe("role",{enum:["customer","seller","admin","delivery_boy"]}).notNull().default("customer"),approvalStatus:pe("approval_status",{enum:["pending","approved","rejected"]}).notNull().default("approved"),address:o("address"),city:o("city"),pincode:o("pincode"),isActive:M("is_active").default(!0),createdAt:y("created_at").defaultNow(),updatedAt:y("updated_at").defaultNow()}),Us=I("stores",{id:T("id").primaryKey(),sellerId:h("seller_id").references(()=>z.id),storeName:o("store_name").notNull(),storeType:o("store_type").notNull(),address:o("address").notNull(),city:o("city").notNull(),pincode:o("pincode").notNull(),phone:o("phone").notNull(),isActive:M("is_active").default(!0),licenseNumber:o("license_number"),gstNumber:o("gst_number"),createdAt:y("created_at").defaultNow()}),za=ks({email:D().email(),password:D().min(6),firstName:D().min(1),lastName:D().min(1),phone:D().min(10),role:zt("seller").default("seller")}),Hs=I("categories",{id:T("id").primaryKey(),name:o("name").notNull(),nameHindi:o("name_hindi"),slug:o("slug").notNull().unique(),description:o("description"),image:o("image"),isActive:M("is_active").default(!0),sortOrder:h("sort_order").default(0)}),be=I("products",{id:T("id").primaryKey(),sellerId:h("seller_id").references(()=>z.id),storeId:h("store_id").references(()=>Us.id),categoryId:h("category_id").references(()=>Hs.id),name:o("name").notNull(),nameHindi:o("name_hindi"),description:o("description"),descriptionHindi:o("description_hindi"),price:w("price",{precision:10,scale:2}).notNull(),originalPrice:w("original_price",{precision:10,scale:2}),image:o("image").notNull(),images:o("images").array(),unit:o("unit").notNull().default("piece"),brand:o("brand"),stock:h("stock").notNull().default(0),minOrderQty:h("min_order_qty").default(1),maxOrderQty:h("max_order_qty").default(100),isActive:M("is_active").default(!0),createdAt:y("created_at").defaultNow(),updatedAt:y("updated_at").defaultNow()}),Ma=I("delivery_areas",{id:T("id").primaryKey(),areaName:o("area_name").notNull(),pincode:o("pincode").notNull(),city:o("city").notNull(),deliveryCharge:w("delivery_charge",{precision:10,scale:2}).notNull(),freeDeliveryAbove:w("free_delivery_above",{precision:10,scale:2}),isActive:M("is_active").default(!0)}),Qs=I("delivery_boys",{id:T("id").primaryKey(),firebaseUid:o("firebase_uid").unique().notNull(),email:o("email").unique().notNull(),name:o("name"),approvalStatus:pe("approval_status",{enum:["pending","approved","rejected"]}).notNull().default("pending"),vehicleType:o("vehicle_type").notNull(),vehicleNumber:o("vehicle_number"),licenseNumber:o("license_number"),aadharNumber:o("aadhar_number"),isAvailable:M("is_available").default(!0),currentLat:w("current_lat",{precision:10,scale:8}),currentLng:w("current_lng",{precision:11,scale:8}),rating:w("rating",{precision:3,scale:2}).default("5.0"),totalDeliveries:h("total_deliveries").default(0),createdAt:y("created_at").defaultNow()}),Ba=I("cart_items",{id:T("id").primaryKey(),userId:h("user_id").references(()=>z.id),productId:h("product_id").references(()=>be.id),quantity:h("quantity").notNull().default(1),sessionId:o("session_id"),createdAt:y("created_at").defaultNow()}),ve=I("orders",{id:T("id").primaryKey(),customerId:h("customer_id").references(()=>z.id),deliveryBoyId:h("delivery_boy_id").references(()=>Qs.id),orderNumber:o("order_number").notNull().unique(),subtotal:w("subtotal",{precision:10,scale:2}).notNull(),deliveryCharge:w("delivery_charge",{precision:10,scale:2}).default("0"),discount:w("discount",{precision:10,scale:2}).default("0"),total:w("total",{precision:10,scale:2}).notNull(),paymentMethod:o("payment_method").notNull(),paymentStatus:o("payment_status").default("pending"),status:o("status").notNull().default("placed"),deliveryAddress:As("delivery_address").notNull(),deliveryInstructions:o("delivery_instructions"),estimatedDeliveryTime:y("estimated_delivery_time"),actualDeliveryTime:y("actual_delivery_time"),promoCode:o("promo_code"),createdAt:y("created_at").defaultNow(),updatedAt:y("updated_at").defaultNow()}),Ka=I("order_items",{id:T("id").primaryKey(),orderId:h("order_id").references(()=>ve.id),productId:h("product_id").references(()=>be.id),sellerId:h("seller_id").references(()=>z.id),quantity:h("quantity").notNull(),unitPrice:w("unit_price",{precision:10,scale:2}).notNull(),totalPrice:w("total_price",{precision:10,scale:2}).notNull()}),Va=I("order_tracking",{id:T("id").primaryKey(),orderId:h("order_id").references(()=>ve.id),status:o("status").notNull(),message:o("message"),messageHindi:o("message_hindi"),location:o("location"),updatedBy:h("updated_by").references(()=>z.id),createdAt:y("created_at").defaultNow()}),Ua=I("promo_codes",{id:T("id").primaryKey(),code:o("code").notNull().unique(),description:o("description").notNull(),discountType:o("discount_type").notNull(),discountValue:w("discount_value",{precision:10,scale:2}).notNull(),minOrderAmount:w("min_order_amount",{precision:10,scale:2}),maxDiscount:w("max_discount",{precision:10,scale:2}),usageLimit:h("usage_limit"),usedCount:h("used_count").default(0),validFrom:y("valid_from").notNull(),validUntil:y("valid_until").notNull(),isActive:M("is_active").default(!0),createdAt:y("created_at").defaultNow()}),Gs=I("service_categories",{id:T("id").primaryKey(),name:o("name").notNull(),nameHindi:o("name_hindi"),description:o("description"),icon:o("icon"),isActive:M("is_active").default(!0)}),Ge=I("services",{id:T("id").primaryKey(),categoryId:h("category_id").references(()=>Gs.id),name:o("name").notNull(),nameHindi:o("name_hindi"),description:o("description"),basePrice:w("base_price",{precision:10,scale:2}).notNull(),duration:h("duration").notNull(),isActive:M("is_active").default(!0)}),Ys=I("service_providers",{id:T("id").primaryKey(),userId:h("user_id").references(()=>z.id),serviceId:h("service_id").references(()=>Ge.id),experience:o("experience"),rating:w("rating",{precision:3,scale:2}).default("5.0"),totalJobs:h("total_jobs").default(0),isAvailable:M("is_available").default(!0),createdAt:y("created_at").defaultNow()}),Ha=I("service_bookings",{id:T("id").primaryKey(),customerId:h("customer_id").references(()=>z.id),serviceProviderId:h("service_provider_id").references(()=>Ys.id),serviceId:h("service_id").references(()=>Ge.id),bookingNumber:o("booking_number").notNull().unique(),scheduledDate:y("scheduled_date").notNull(),scheduledTime:o("scheduled_time").notNull(),address:As("address").notNull(),price:w("price",{precision:10,scale:2}).notNull(),status:o("status").default("pending"),paymentMethod:o("payment_method").notNull(),paymentStatus:o("payment_status").default("pending"),customerNotes:o("customer_notes"),createdAt:y("created_at").defaultNow()}),Qa=I("reviews",{id:T("id").primaryKey(),customerId:h("customer_id").references(()=>z.id),productId:h("product_id").references(()=>be.id),orderId:h("order_id").references(()=>ve.id),rating:h("rating").notNull(),comment:o("comment"),createdAt:y("created_at").defaultNow()});F(z).omit({id:!0,createdAt:!0,updatedAt:!0}).partial({role:!0,approvalStatus:!0}).required({firebaseUid:!0,email:!0,name:!0});F(Us).omit({id:!0,createdAt:!0});const Ga=F(Hs).omit({id:!0}),Ya=F(be).omit({id:!0,createdAt:!0,updatedAt:!0});F(Ma).omit({id:!0});F(Qs).omit({id:!0,createdAt:!0});F(Ba).omit({id:!0,createdAt:!0});F(ve).omit({id:!0,createdAt:!0,updatedAt:!0});F(Ka).omit({id:!0});F(Va).omit({id:!0,createdAt:!0});F(Ua).omit({id:!0,createdAt:!0});F(Gs).omit({id:!0});F(Ge).omit({id:!0});F(Ys).omit({id:!0,createdAt:!0});F(Ha).omit({id:!0,createdAt:!0});F(La).omit({id:!0,createdAt:!0});F(Qa).omit({id:!0,createdAt:!0});const Ja=Ya.extend({images:Mt(D()).optional()}),Wa=za.omit({userId:!0}),Xa=Ga;function Za(){const{toast:s}=Ve(),t=Bt(),[a,i]=l.useState(!1),[n,d]=l.useState(null),[u,k]=l.useState(!1),{data:x,isLoading:R}=H({queryKey:["/api/sellers/me"]}),{data:f,isLoading:K}=H({queryKey:["/api/products",{sellerId:x==null?void 0:x.id}],enabled:!!(x!=null&&x.id)}),{data:g,isLoading:W}=H({queryKey:["/api/seller/orders"],enabled:!!(x!=null&&x.id)}),{data:G}=H({queryKey:["/api/categories"]}),A=Ce({resolver:ke(Ja),defaultValues:{name:"",description:"",price:"",originalPrice:"",categoryId:void 0,stock:0,images:[]}}),B=Ce({resolver:ke(Xa),defaultValues:{name:"",slug:"",description:"",imageUrl:"",isActive:!0}}),q=Ce({resolver:ke(Wa),defaultValues:x||{businessName:"",description:"",businessAddress:"",businessPhone:"",gstNumber:"",bankAccountNumber:"",ifscCode:""}}),X=ne({mutationFn:async r=>n?await Y("PUT",`/api/products/${n.id}`,r):await Y("POST","/api/products",r),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/products"]}),s({title:n?"Product updated":"Product created",description:`Product has been ${n?"updated":"created"} successfully`}),i(!1),d(null),A.reset()},onError:()=>{s({title:"Error",description:`Failed to ${n?"update":"create"} product`,variant:"destructive"})}}),Z=ne({mutationFn:async r=>await Y("PUT","/api/sellers/me",r),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/sellers/me"]}),s({title:"Profile updated",description:"Your seller profile has been updated successfully"})},onError:()=>{s({title:"Error",description:"Failed to update seller profile",variant:"destructive"})}}),ee=ne({mutationFn:async r=>await Y("DELETE",`/api/products/${r}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/products"]}),s({title:"Product deleted",description:"Product has been deleted successfully"})},onError:()=>{s({title:"Error",description:"Failed to delete product",variant:"destructive"})}}),c=ne({mutationFn:async r=>await Y("POST","/api/categories",r),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/categories"]}),s({title:"Category created",description:"Category has been created successfully"}),k(!1),B.reset()},onError:()=>{s({title:"Error",description:"Failed to create category",variant:"destructive"})}}),j=r=>{X.mutate(r)},V=r=>{Z.mutate(r)},we=r=>{c.mutate(r)},Js=r=>{d(r),A.reset({name:r.name,description:r.description||"",price:r.price,originalPrice:r.originalPrice||"",categoryId:r.categoryId,stock:r.stock||0,images:r.images||[]}),i(!0)},Ws=r=>{confirm("Are you sure you want to delete this product?")&&ee.mutate(r)},Xs=(g==null?void 0:g.reduce((r,N)=>r+N.orderItems.reduce((tt,at)=>tt+parseFloat(at.total),0),0))||0,Zs=(g==null?void 0:g.length)||0,et=(f==null?void 0:f.length)||0,st=parseFloat((x==null?void 0:x.rating)||"0");return R?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ue,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx(L,{className:"h-8 w-64"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((r,N)=>e.jsx(L,{className:"h-32"},N))}),e.jsx(L,{className:"h-96"})]})})]}):x?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ue,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Seller Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your products and orders"})]}),e.jsx("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:x.isVerified?e.jsxs(Q,{variant:"default",className:"bg-green-600",children:[e.jsx(Kt,{className:"h-3 w-3 mr-1"}),"Verified Seller"]}):e.jsxs(Q,{variant:"secondary",children:[e.jsx(Vt,{className:"h-3 w-3 mr-1"}),"Pending Verification"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx($,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ut,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold",children:["₹",Xs.toLocaleString()]})]})]})})}),e.jsx($,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"h-8 w-8 text-secondary"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold",children:Zs})]})]})})}),e.jsx($,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Products"}),e.jsx("p",{className:"text-2xl font-bold",children:et})]})]})})}),e.jsx($,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"h-8 w-8 text-yellow-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Rating"}),e.jsx("p",{className:"text-2xl font-bold",children:st.toFixed(1)})]})]})})})]}),e.jsxs(Oa,{defaultValue:"products",className:"space-y-4",children:[e.jsxs(zs,{children:[e.jsx(xe,{value:"products",children:"Products"}),e.jsx(xe,{value:"orders",children:"Orders"}),e.jsx(xe,{value:"profile",children:"Profile"})]}),e.jsx(he,{value:"products",className:"space-y-4",children:e.jsxs($,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(ce,{children:"Your Products"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(We,{open:u,onOpenChange:k,children:[e.jsx(Xe,{asChild:!0,children:e.jsxs(p,{variant:"outline",onClick:()=>{B.reset()},children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Create Category"]})}),e.jsxs(Ee,{children:[e.jsx(Le,{children:e.jsx(ze,{children:"Create New Category"})}),e.jsx(Ie,{...B,children:e.jsxs("form",{onSubmit:B.handleSubmit(we),className:"space-y-4",children:[e.jsx(P,{control:B.control,name:"name",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Category Name"}),e.jsx(_,{children:e.jsx(O,{...r})}),e.jsx(v,{})]})}),e.jsx(P,{control:B.control,name:"slug",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Category Slug"}),e.jsx(_,{children:e.jsx(O,{...r,placeholder:"e.g., electronics"})}),e.jsx(v,{})]})}),e.jsx(P,{control:B.control,name:"description",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Description (Optional)"}),e.jsx(_,{children:e.jsx(te,{...r})}),e.jsx(v,{})]})}),e.jsx(P,{control:B.control,name:"imageUrl",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Image URL (Optional)"}),e.jsx(_,{children:e.jsx(O,{...r,type:"url"})}),e.jsx(v,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>k(!1),children:"Cancel"}),e.jsx(p,{type:"submit",disabled:c.isPending,children:c.isPending?"Creating...":"Create Category"})]})]})})]})]}),e.jsxs(We,{open:a,onOpenChange:i,children:[e.jsx(Xe,{asChild:!0,children:e.jsxs(p,{onClick:()=>{d(null),A.reset()},children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Product"]})}),e.jsxs(Ee,{className:"max-w-2xl",children:[e.jsx(Le,{children:e.jsx(ze,{children:n?"Edit Product":"Add New Product"})}),e.jsx(Ie,{...A,children:e.jsxs("form",{onSubmit:A.handleSubmit(j),className:"space-y-4",children:[e.jsx(P,{control:A.control,name:"name",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Product Name"}),e.jsx(_,{children:e.jsx(O,{...r})}),e.jsx(v,{})]})}),e.jsx(P,{control:A.control,name:"description",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Description"}),e.jsx(_,{children:e.jsx(te,{...r})}),e.jsx(v,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(P,{control:A.control,name:"price",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Price (₹)"}),e.jsx(_,{children:e.jsx(O,{...r,type:"number",step:"0.01"})}),e.jsx(v,{})]})}),e.jsx(P,{control:A.control,name:"originalPrice",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Original Price (₹)"}),e.jsx(_,{children:e.jsx(O,{...r,type:"number",step:"0.01"})}),e.jsx(v,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(P,{control:A.control,name:"categoryId",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Category"}),e.jsxs(Ds,{onValueChange:N=>r.onChange(parseInt(N)),children:[e.jsx(_,{children:e.jsx(Ue,{children:e.jsx(qs,{placeholder:"Select category"})})}),e.jsx(He,{children:G==null?void 0:G.map(N=>e.jsx(U,{value:N.id.toString(),children:N.name},N.id))})]}),e.jsx(v,{}),"                                ",e.jsx(v,{})]})}),e.jsx(P,{control:A.control,name:"stock",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Stock Quantity"}),e.jsx(_,{children:e.jsx(O,{...r,type:"number",onChange:N=>r.onChange(parseInt(N.target.value))})}),e.jsx(v,{})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(p,{type:"submit",disabled:X.isPending,children:X.isPending?"Saving...":n?"Update":"Create"})]})]})})]})]})]})]})}),e.jsx(E,{children:K?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((r,N)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[e.jsx(L,{className:"w-16 h-16"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(L,{className:"h-4 w-3/4"}),e.jsx(L,{className:"h-3 w-1/2"})]}),e.jsx(L,{className:"h-8 w-20"})]},N))}):(f==null?void 0:f.length)===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_e,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Add your first product to start selling"})]}):e.jsx("div",{className:"space-y-4",children:f==null?void 0:f.map(r=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded flex items-center justify-center",children:r.images&&r.images.length>0?e.jsx("img",{src:r.images[0],alt:r.name,className:"w-full h-full object-cover rounded"}):e.jsx(_e,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:r.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["₹",parseFloat(r.price).toLocaleString()," • Stock: ",r.stock]}),e.jsx(Q,{variant:r.isActive?"default":"secondary",children:r.isActive?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{size:"sm",variant:"outline",onClick:()=>Js(r),children:e.jsx(Ht,{className:"h-4 w-4"})}),e.jsx(p,{size:"sm",variant:"outline",onClick:()=>Ws(r.id),disabled:ee.isPending,children:e.jsx(bs,{className:"h-4 w-4"})})]})]},r.id))})})]})}),e.jsx(he,{value:"orders",className:"space-y-4",children:e.jsxs($,{children:[e.jsx(de,{children:e.jsx(ce,{children:"Recent Orders"})}),e.jsx(E,{children:W?e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((r,N)=>e.jsx(L,{className:"h-16"},N))}):(g==null?void 0:g.length)===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Oe,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No orders yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Orders will appear here when customers purchase your products"})]}):e.jsx("div",{className:"space-y-4",children:g==null?void 0:g.map(r=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold",children:["Order #",r.orderNumber]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(r.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold",children:["₹",parseFloat(r.total).toLocaleString()]}),e.jsx(Q,{variant:r.status==="delivered"?"default":r.status==="shipped"?"secondary":r.status==="confirmed"?"outline":"destructive",children:r.status})]})]}),e.jsx("div",{className:"space-y-2",children:r.orderItems.map(N=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[N.product.name," × ",N.quantity]}),e.jsxs("span",{children:["₹",parseFloat(N.total).toLocaleString()]})]},N.id))})]},r.id))})})]})}),e.jsx(he,{value:"profile",className:"space-y-4",children:e.jsxs($,{children:[e.jsx(de,{children:e.jsx(ce,{children:"Seller Profile"})}),e.jsx(E,{children:e.jsx(Ie,{...q,children:e.jsxs("form",{onSubmit:q.handleSubmit(V),className:"space-y-4",children:[e.jsx(P,{control:q.control,name:"businessName",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Business Name"}),e.jsx(_,{children:e.jsx(O,{...r})}),e.jsx(v,{})]})}),e.jsx(P,{control:q.control,name:"description",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Business Description"}),e.jsx(_,{children:e.jsx(te,{...r})}),e.jsx(v,{})]})}),e.jsx(P,{control:q.control,name:"businessAddress",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Business Address"}),e.jsx(_,{children:e.jsx(te,{...r})}),e.jsx(v,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(P,{control:q.control,name:"businessPhone",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Business Phone"}),e.jsx(_,{children:e.jsx(O,{...r})}),e.jsx(v,{})]})}),e.jsx(P,{control:q.control,name:"gstNumber",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"GST Number"}),e.jsx(_,{children:e.jsx(O,{...r})}),e.jsx(v,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(P,{control:q.control,name:"bankAccountNumber",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"Bank Account Number"}),e.jsx(_,{children:e.jsx(O,{...r,type:"password"})}),e.jsx(v,{})]})}),e.jsx(P,{control:q.control,name:"ifscCode",render:({field:r})=>e.jsxs(S,{children:[e.jsx(C,{children:"IFSC Code"}),e.jsx(_,{children:e.jsx(O,{...r})}),e.jsx(v,{})]})})]}),e.jsx(p,{type:"submit",disabled:Z.isPending,children:Z.isPending?"Updating...":"Update Profile"})]})})})]})})]})]})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ue,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏪"}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Seller Profile Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"It looks like you haven't set up your seller profile yet."}),e.jsx(p,{onClick:()=>window.location.href="/",children:"Go Back Home"})]})]})}function er(){const{signOut:s}=ie(),[t,a]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(b,{href:"/",children:e.jsx(p,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700",children:e.jsx(Qt,{className:"w-4 h-4"})})}),e.jsx("div",{className:"w-8 h-8 bg-amber-600 rounded-lg flex items-center justify-center",children:e.jsx(Fe,{className:"text-white text-sm w-4 h-4"})}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Seller Application"})]}),e.jsx("button",{onClick:s,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Sign Out"})]})})}),e.jsxs("main",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Gt,{className:"text-amber-600 text-2xl w-8 h-8"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"The way is here"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Start your selling journey with us. Complete your application to get approved as a seller."}),e.jsxs(p,{onClick:()=>a(!0),className:"inline-flex items-center px-8 py-4 bg-amber-600 hover:bg-amber-700 text-white font-medium rounded-xl transition-colors duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-lg",children:[e.jsx(Fe,{className:"mr-3 w-5 h-5"}),"Click here"]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Yt,{className:"text-green-600 w-6 h-6"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Low Commission"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Competitive rates to maximize your profits"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Jt,{className:"text-blue-600 w-6 h-6"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Fast Setup"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Get your store up and running quickly"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Wt,{className:"text-purple-600 w-6 h-6"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"24/7 Support"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Dedicated support team to help you succeed"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Xt,{className:"text-red-600 w-6 h-6"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Global Reach"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Access customers from around the world"})]})]})]}),e.jsx(SellerApplicationModal,{isOpen:t,onClose:()=>a(!1)})]})}function sr(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx($,{className:"w-full max-w-md mx-4",children:e.jsxs(E,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(Zt,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Te({children:s}){const{firebaseUser:t,loading:a}=ie();return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t?e.jsx(e.Fragment,{children:s}):e.jsx(Be,{to:"/auth"})}function tr({children:s}){const{user:t,loading:a}=ie();return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t!=null&&t.isApprovedSeller?e.jsx(e.Fragment,{children:s}):e.jsx(Be,{to:"/seller-apply"})}function ar(){const{firebaseUser:s,loading:t}=ie();return t?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs(sa,{children:[e.jsx(se,{path:"/auth",children:s?e.jsx(Be,{to:"/"}):e.jsx(wa,{})}),e.jsx(se,{path:"/",children:e.jsx(Te,{children:e.jsx(Ra,{})})}),e.jsx(se,{path:"/seller-dashboard",children:e.jsx(Te,{children:e.jsx(tr,{children:e.jsx(Za,{})})})}),e.jsx(se,{path:"/seller-apply",children:e.jsx(Te,{children:e.jsx(er,{})})}),e.jsx(se,{component:sr})]})}function rr(){return e.jsx(ea,{client:na,children:e.jsx(ga,{children:e.jsxs(ya,{children:[e.jsx(fa,{}),e.jsx(ar,{})]})})})}ta(document.getElementById("root")).render(e.jsx(rr,{}));
//# sourceMappingURL=index-tyck7BVo.js.map
